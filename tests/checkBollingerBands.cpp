/*
** EPITECH PROJECT, 2024
** B-CNA-410-PAR-4-1-trade-thibaud.cathala
** File description:
** checkBollingerBands
*/

#include <criterion/criterion.h>
#include <criterion/redirect.h>
#include "trade.hpp"
#include "my_tracked_exception.hpp"

Test(trade, check_bollinger_bands)
{
    Tr::Trade trade;

    std::size_t period = 20;
    trade.addCryptoCandle("USDT_BTC,1620550800,58400,57589.94,58159.59,57952.52,168676077.6");
    trade.addCryptoCandle("USDT_BTC,1620554400,58052.33,57535.61,57952.53,57955.04,142785493.3");
    trade.addCryptoCandle("USDT_BTC,1620558000,58200,57865.85,57955.04,57907.49,125199288.1");
    trade.addCryptoCandle("USDT_BTC,1620561600,58000,56235.66,57907.49,56433.53,418959979.9");
    trade.addCryptoCandle("USDT_BTC,1620565200,57387.77,56402.9,56433.54,57220.02,202331949.6");
    trade.addCryptoCandle("USDT_BTC,1620568800,57485,57111.41,57220.01,57170.9,128578309.9");
    trade.addCryptoCandle("USDT_BTC,1620572400,57425.2,57000,57170.9,57379.58,108258429.3");
    trade.addCryptoCandle("USDT_BTC,1620576000,57883.11,57300.01,57379.58,57600.01,144133783.7");
    trade.addCryptoCandle("USDT_BTC,1620579600,57660.3,57262.51,57600,57458.73,92803132.3");
    trade.addCryptoCandle("USDT_BTC,1620583200,57638.2,57199.8,57458.73,57439.39,87961358.68");
    trade.addCryptoCandle("USDT_BTC,1620586800,57569,57048.96,57441.61,57266.97,142841978.4");
    trade.addCryptoCandle("USDT_BTC,1620590400,57999,57179.18,57266.97,57844.18,154297201.6");
    trade.addCryptoCandle("USDT_BTC,1620594000,58180,57778.85,57844.18,58025.89,111504698.6");
    trade.addCryptoCandle("USDT_BTC,1620597600,58205.67,57850,58025.88,57930.32,128249358.8");
    trade.addCryptoCandle("USDT_BTC,1620601200,58439.7,57929.84,57930.31,58240.84,118302824");
    trade.addCryptoCandle("USDT_BTC,1620604800,58887.82,58009.96,58240.83,58858.6,159673740.2");
    trade.addCryptoCandle("USDT_BTC,1620612000,59066,58650.39,58699.99,58982.81,127334860.2");
    trade.addCryptoCandle("USDT_BTC,1620615600,59444.9,58929.33,58978.95,59356.76,212740172");
    trade.addCryptoCandle("USDT_BTC,1620619200,59500,59003.37,59356.77,59154.67,181527842.5");
    trade.addCryptoCandle("USDT_BTC,1620622800,59439.98,58680.26,59154.67,59068.05,148774470.5");
    trade.addCryptoCandle("USDT_BTC,1620626400,59180,58755,59068.66,58833.93,106084476.6");
    trade.addCryptoCandle("USDT_BTC,1620630000,58965.01,58355.79,58833.92,58370.17,146907008.7");

    // ! To finish ...
}